<html>
  <head>
    <meta charset="utf-8" />
    <title>Ticket Report - {{ticket.ticketId}}</title>
    <style>
      body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333;
      margin: 0; padding: 20px; } .header { text-align: center; border-bottom:
      3px solid #667eea; padding-bottom: 20px; margin-bottom: 30px; } .header h1
      { color: #667eea; margin: 0; font-size: 28px; } .header p { color: #666;
      margin: 5px 0 0 0; } .ticket-info { background: #f8f9fa; padding: 20px;
      border-radius: 8px; margin-bottom: 30px; } .info-grid { display: grid;
      grid-template-columns: 1fr 1fr; gap: 20px; } .info-item { margin-bottom:
      15px; } .info-label { font-weight: bold; color: #555; font-size: 14px;
      text-transform: uppercase; letter-spacing: 0.5px; } .info-value { color:
      #333; font-size: 16px; margin-top: 5px; } .status-badge { padding: 6px
      12px; border-radius: 20px; font-size: 12px; font-weight: bold;
      text-transform: uppercase; } .status-pending { background: #fff3cd; color:
      #856404; } .status-in-progress { background: #cce5ff; color: #004085; }
      .status-resolved { background: #d4edda; color: #155724; } .status-closed {
      background: #f8d7da; color: #721c24; } .priority-badge { padding: 6px
      12px; border-radius: 20px; font-size: 12px; font-weight: bold;
      text-transform: uppercase; } .priority-low { background: #d1ecf1; color:
      #0c5460; } .priority-medium { background: #fff3cd; color: #856404; }
      .priority-high { background: #f8d7da; color: #721c24; } .priority-critical
      { background: #721c24; color: white; } .description-section {
      margin-bottom: 30px; } .description-section h3 { color: #333;
      border-bottom: 2px solid #eee; padding-bottom: 10px; }
      .description-content { background: white; padding: 20px; border: 1px solid
      #ddd; border-radius: 8px; white-space: pre-wrap; } .comments-section {
      margin-bottom: 30px; } .comments-section h3 { color: #333; border-bottom:
      2px solid #eee; padding-bottom: 10px; } .comment { background: white;
      border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom:
      15px; } .comment-header { display: flex; justify-content: space-between;
      margin-bottom: 10px; font-size: 14px; } .comment-author { font-weight:
      bold; color: #667eea; } .comment-date { color: #666; } .comment-text {
      color: #333; white-space: pre-wrap; } .footer { text-align: center;
      margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color:
      #666; font-size: 12px; } .no-comments { text-align: center; color: #666;
      font-style: italic; padding: 20px; }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>ðŸŽ« Ticket Report</h1>
      <p>Generated on {{generatedAt}}</p>
    </div>

    <div class="ticket-info">
      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">Ticket ID</div>
          <div class="info-value">{{ticket.ticketId}}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Status</div>
          <div class="info-value">
            <span
              class="status-badge status-{{ticket.status}}"
            >{{ticket.status}}</span>
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">Title</div>
          <div class="info-value">{{ticket.title}}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Priority</div>
          <div class="info-value">
            <span
              class="priority-badge priority-{{ticket.priority}}"
            >{{ticket.priority}}</span>
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">Category</div>
          <div class="info-value">{{ticket.category}}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Created By</div>
          <div class="info-value">{{ticket.createdBy.name}}
            ({{ticket.createdBy.studentId}})</div>
        </div>
        <div class="info-item">
          <div class="info-label">Created On</div>
          <div class="info-value">{{ticket.createdAt}}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Last Updated</div>
          <div class="info-value">{{ticket.updatedAt}}</div>
        </div>
        {{#if ticket.resolvedAt}}
          <div class="info-item">
            <div class="info-label">Resolved On</div>
            <div class="info-value">{{ticket.resolvedAt}}</div>
          </div>
        {{/if}}
      </div>
    </div>

    <div class="description-section">
      <h3>Description</h3>
      <div class="description-content">{{ticket.description}}</div>
    </div>

    <div class="comments-section">
      <h3>Comments ({{ticket.comments.length}})</h3>
      {{#if ticket.comments.length}}
        {{#each ticket.comments}}
          <div class="comment">
            <div class="comment-header">
              <span class="comment-author">{{this.author.name}}</span>
              <span class="comment-date">{{this.createdAt}}</span>
            </div>
            <div class="comment-text">{{this.text}}</div>
          </div>
        {{/each}}
      {{else}}
        <div class="no-comments">No comments available</div>
      {{/if}}
    </div>

    <div class="footer">
      <p>This report was generated from the Ticket Platform System</p>
      <p>For support, please contact the system administrator</p>
    </div>
  </body>
</html>